<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>...::: DigiCert Story :::...</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
        function combineAndSubmit() {
            const form1 = document.getElementById('scenarioForm');
            const form2 = document.getElementById('approachForm');

            const combinedData = new FormData(form1);

            const form2Data = new FormData(form2);
            for (let [key, value] of form2Data.entries()) {
            combinedData.append(key, value);
            }

            // Then submit combinedData via fetch or XMLHttpRequest
            fetch('/next-page', {
                method: 'POST',
                body: combinedData,
            }).then(response => {
                window.location.reload();
            });
        }
    </script>
</head>
<body class="bg-light">
    <div class="container py-5" id="page-content">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <section id="page-title" class="mb-3">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h2 class="card-title text-primary mb-4">Digital Certificate Story</h2>
                            <p class="mt-3 text-secondary">
                                <ul class="text-secondary" style="margin-bottom:0; max-width: 650px;">
                                    <li class="mb-3">You have to select the <b><i>Scenario</i></b> and <b><i>Approach</i></b> from below 
                                        to start the jounrey in this story.</li>
                                    <li class="mb-3">It is recommended to start with <b><i>Theoretical</i></b> under <b><i>Approach</i></b> 
                                        section and once done you can move on to other approaches.</li>
                                    <li>This will be a (RPG) role play game like story line. You will take role of different entities 
                                        involved in working of digital certificate like Certificate Authority, Web Browser and Organisation 
                                        that needs the certificate.</li>
                                </ul>
                            </p>
                        </div>
                    </div>
                </section>  
                <section id="scenario" class="mb-3">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h2 class="card-title text-primary mb-4">Scenario</h2>
                            <form id="scenarioForm">
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="radio" name="scenario" id="validateWebsite" value="validate-website">
                                    <label class="form-check-label" for="validateWebsite">
                                        Validate Website
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="scenario" id="networkManagementSystem" 
                                        value="network-management-system">
                                    <label class="form-check-label" for="networkManagementSystem">
                                        Network Management System
                                    </label>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
                <section id="approach">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h2 class="card-title text-primary mb-4">Approach</h2>
                            <form id="approachForm">
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="radio" name="approach" id="theoretical" value="theoretical">
                                    <label class="form-check-label" for="theoretical">
                                        Theoretical
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="radio" name="approach" id="cli" value="cli">
                                    <label class="form-check-label" for="cli">
                                        Command Line Interface
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="approach" id="python" value="python">
                                    <label class="form-check-label" for="python">
                                        Python Programming
                                    </label>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>

                <!-- Next Button -->
                <div class="d-flex justify-content-end mt-4">
                    <button type="submit" class="btn btn-primary btn-lg" id="submitButton">Next</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Add event listener to the button to call combineAndSubmit on click
        document.getElementById('submitButton').addEventListener('click', function(event) {
            event.preventDefault(); // Prevent default button behavior if it's inside a form
            combineAndSubmit();
        });
    </script>
</body>
</html>